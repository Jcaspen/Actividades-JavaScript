<!DOCTYPE html>
<html lang="es" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Actividad 4</title>
    </head>
    <body>
        <script type="text/javascript">
            function Factura(cliente,elementos=[],info) {
                this.cliente=cliente;
                this.elementos=elementos;
                this.info=info;
            }

            function Cliente(nombre,direccion,telefono,nif) {
                this.nombre=nombre;
                this.direccion=direccion;
                this.telefono=telefono;
                this.nif=nif;
            }

            function Info(baseImp=0,iva=21, total=0,formaDePago="contado") {
                this.baseImp=baseImp;
                this.iva=iva;
                this.total=total;
                this.formaDePago=formaDePago;
            }

            function Empresa(nombre,direccion,telefono,cif) {
                this.nombre=nombre;
                this.direccion=direccion;
                this.telefono=telefono;
                this.cif=cif;
            }

            Factura.prototype.empresa = new Empresa("Reventao SL","Av/del iesdonana",856948372,"85987654G");
            Factura.prototype.calcularTotal= function(){
                var ivilla=((this.info.baseImp*(this.elementos[1]*this.elementos[2]))*this.info.iva/100);
                this.info.total=ivilla+this.info.baseImp*(this.elementos[1]*this.elementos[2]);
            };

            var c=new Cliente("Castillo","Perico","76587656","76589876F");
            var i=new Info(1,21);

            var f= new Factura(c,['Aceitunas',10,10],i);
            f.calcularTotal();
            Factura.prototype.cuantoEs=function(){
                alert(this.info.total);
            };
            f.cuantoEs();

        </script>
    </body>
</html>
