<!DOCTYPE html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Actividad Alarma</title>
  </head>
  <body onload="mostrar()">
    <h1>HORA ACTUAL</h1>
    <form>
        <input type="text" name="" id="hora"> :
        <input type="text" name="" id="min" > :
        <input type="text" name="" id="seg" >
    </form>
    <h1>ALARMA</h1>
    <form>
      <input type="text" id="4" name=""> :
      <input type="text" id="5" name="">
      <input type="Button" value="Activar" onclick="comprobar()" >
      <input type="Button" value="Desactivar" onclick="parar()">
    </form>

    <script type="text/javascript">


      function mostrar(){
        t = setTimeout(mostrar,1000);
        var time = new Date();
        var h = time.getHours();
        var m = time.getMinutes();
        var s = time.getSeconds();
        document.forms[0].elements[0].value=`${h}`;
        document.forms[0].elements[1].value=`${m}`;
        document.forms[0].elements[2].value=`${s}`;
      }

      function comprobar(){
              document.forms[1].elements[2].disabled=true;//Para Firefox usaremos el Autocomplete
              t2=setTimeout(comprobar,1000);
              if (document.forms[0].elements[0].value ==document.getElementById("4").value && document.forms[0].elements[1].value==document.getElementById("5").value) {
                alert("Alarmaaaa!!!!!");
                parar2();
              }

      }

      function parar() {
          clearTimeout(t2);
          document.forms[1].elements[2].disabled=false;
          alert("Alarma desactivada");
      }

      function parar2() {
          clearTimeout(t2);
          document.forms[1].elements[2].disabled=false;
          var cn =confirm("Â¿Quieres aplazarla 2 min ?");
          if (cn==true) {
              var p =document.getElementById("5").value;
              document.forms[1].elements[1].value=p+2;
              comprobar();
          }else{
              parar();
          }
      }

    </script>
  </body>
</html>
